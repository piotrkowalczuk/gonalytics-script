/*! gonalytics 31-07-2014 */
function Gonalytics(a,b){var c=this.getBrowser(),d=this.getDevice(),e=this.getOperatingSystem();this.gowikHost=a,this.siteId=b,this.values={trackerSiteId:{value:this.siteId,sname:"t.sid"},visitId:{value:this.getVisitId(),sname:"v.id"},pageTitle:{value:document.title,sname:"p.t"},pageHost:{value:location.host,sname:"w.h"},pageUrl:{value:location.href,sname:"p.u"},browserName:{value:c.name,sname:"b.n"},browerVersion:{value:c.version,sname:"b.v"},browserMajorVersion:{value:c.majorVersion,sname:"b.mv"},browserUserAgent:{value:navigator.userAgent,sname:"b.ua"},browserPlatform:{value:navigator.platform,sname:"b.p"},browserCookie:{value:navigator.cookieEnabled,sname:"b.c"},browserIsOnline:{value:navigator.onLine,sname:"b.io"},browserPluginJava:{value:navigator.javaEnabled(),sname:"b.p.j"},browserWindowWidth:{value:window.innerWidth,sname:"b.w.w"},browserWindowHeight:{value:window.innerHeight,sname:"b.w.h"},deviceName:{value:d.name,sname:"d.n"},deviceIsTablet:{value:d.isTablet,sname:"d.it"},deviceIsPhone:{value:d.isPhone,sname:"d.ip"},deviceIsMobile:{value:d.isMobile,sname:"d.im"},operatingSystemName:{value:e.name,sname:"os.n"},operatingSystemVersion:{value:e.versionString,sname:"os.v"},language:{value:this.getLanguage(),sname:"lng"},referrer:{value:document.referrer,sname:"r"},screenWidth:{value:screen.width,sname:"s.w"},screenHeight:{value:screen.height,sname:"s.h"}}}Gonalytics.prototype.push=function(){var a=new XMLHttpRequest;a.open("GET",this.getUrl(),!0),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var b=(a.getResponseHeader("Gonalytics-Visit-Id"),new Date);b.setTime(b.getTime()+18e4),document.cookie="gowikVisitId="+gowikVisitId+";expires="+b.toGMTString()+";path=/"}},a.send(null)},Gonalytics.prototype.getUrl=function(){(new Date).getTime(),99999999999*Math.random();return this.gowikHost+"/track?"+this.mapValuesToQueryString()},Gonalytics.prototype.mapValuesToQueryString=function(){var a=this,b="";return Object.keys(this.values).forEach(function(c){b+=a.values[c].sname+"="+a.values[c].value+"&"}),b},Gonalytics.prototype.getLanguage=function(){return"string"==typeof navigator.userLanguage?navigator.userLanguage:"string"==typeof navigator.language?navigator.language:"(Not supported)"},Gonalytics.prototype.getBrowser=function(){var a,b,c,d=navigator.userAgent,e=navigator.appName,f=""+parseFloat(navigator.appVersion),g=parseInt(navigator.appVersion,10);return-1!==(b=d.indexOf("Opera"))?(e="Opera",f=d.substring(b+6),-1!==(b=d.indexOf("Version"))&&(f=d.substring(b+8))):-1!==(b=d.indexOf("MSIE"))?(e="Microsoft Internet Explorer",f=d.substring(b+5)):"Netscape"===e&&-1!==d.indexOf("Trident/")?(e="Microsoft Internet Explorer",f=d.substring(b+5),-1!==(b=d.indexOf("rv:"))&&(f=d.substring(b+3))):-1!==(b=d.indexOf("Chrome"))?(e="Chrome",f=d.substring(b+7)):-1!==(b=d.indexOf("CriOS"))?(e="Chrome",f=d.substring(b+6)):-1!==(b=d.indexOf("Safari"))?(e="Safari",f=d.substring(b+7),-1!==(b=d.indexOf("Version"))&&(f=d.substring(b+8))):-1!==(b=d.indexOf("Firefox"))?(e="Firefox",f=d.substring(b+8)):(a=d.lastIndexOf(" ")+1)<(b=d.lastIndexOf("/"))&&(e=d.substring(a,b),f=d.substring(b+1),e.toLowerCase()===e.toUpperCase()&&(e=navigator.appName)),-1!==(c=f.indexOf(";"))&&(f=f.substring(0,c)),-1!==(c=f.indexOf(" "))&&(f=f.substring(0,c)),-1!==(c=f.indexOf(")"))&&(f=f.substring(0,c)),g=parseInt(""+f,10),isNaN(g)&&(f=""+parseFloat(navigator.appVersion),g=parseInt(navigator.appVersion,10)),{name:e,majorVersion:g,version:f}},Gonalytics.prototype.getDevice=function(){var a,b=navigator.appVersion,c=navigator.userAgent,d=[{s:"iPad",r:/iPad/},{s:"Samsung Galaxy",r:/SCH-I800/},{s:"Motorola",r:/xoom/},{s:"Kindle",r:/kindle/}],e=[{s:"iPhone",r:/iPhone/},{s:"iPod",r:/iPod/},{s:"blackberry",r:/blackberry/},{s:"android 0.5",r:/android 0.5/},{s:"htc",r:/htc/},{s:"lg",r:/lg/},{s:"midp",r:/midp/},{s:"mmp",r:/mmp/},{s:"mobile",r:/mobile/},{s:"nokia",r:/nokia/},{s:"opera mini",r:/opera mini/},{s:"palm",r:/palm|PalmSource/},{s:"pocket",r:/pocket/},{s:"psp",r:/psp|Playstation Portable/},{s:"sgh",r:/sgh/},{s:"smartphone",r:/smartphone/},{s:"symbian",r:/symbian/},{s:"treo mini",r:/treo mini/},{s:"SonyEricsson",r:/SonyEricsson/},{s:"Samsung",r:/Samsung/},{s:"MobileExplorer",r:/MobileExplorer/},{s:"Benq",r:/Benq/},{s:"Windows Phone",r:/Windows Phone/},{s:"Windows Mobile",r:/Windows Mobile/},{s:"IEMobile",r:/IEMobile/},{s:"Windows CE",r:/Windows CE/},{s:"Nintendo Wii",r:/Nintendo Wii/}],f=!1,g=!1,h="";for(a in d)if(d[a].r.test(c)){h=d[a].s,f=!0;break}if(""===h)for(a in e)if(e[a].r.test(c)){h=e[a].s,g=!0;break}var i=f||g;return i||(i=/Mobile|mini|Fennec|Android/.test(b)),{name:h,isTablet:f,isMobile:i,isPhone:g}},Gonalytics.prototype.getOperatingSystem=function(){var a=navigator.appVersion,b=navigator.userAgent,c="unknown",d="unknown",e=[{s:"Windows_3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var f in e){var g=e[f];if(g.r.test(b)){d=g.s;break}}switch(/Windows/.test(d)&&(c=/Windows (.*)/.exec(d)[1]),d){case"Mac OS X":c=/Mac OS X (10[\.\_\d]+)/.exec(b)[1];break;case"Android":c=/Android ([\.\_\d]+)/.exec(b)[1];break;case"iOS":c=/OS (\d+)_(\d+)_?(\d+)?/.exec(a),c=c[1]+"."+c[2]+"."+(0|c[3])}return{name:d,versionString:c}},Gonalytics.prototype.getVisitId=function(){for(var a="gowikVisitId=",b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1);if(-1!=d.indexOf(a))return d.substring(a.length,d.length)}return""};